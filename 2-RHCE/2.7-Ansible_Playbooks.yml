7- Create Ansible plays and playbooks:
Know how to work with commonly used Ansible modules
Use variables to retrieve the results of running a command
Use conditionals to control play execution
Configure error handling
Create playbooks to configure systems to a specified state


CLOUD_GURU_LAB1
Install httpd on the webserver group.
Start the httpd service on the webserver group.
Create a dba account on the dbserver group.
Copy /root/DBAstuff.txt to the new user's home directory. Make sure he is the owner and group of the file, set permissions to 0600.
Create index.html in /var/www/html on the webserver.
Use the git module to check out https://github.com/ansible/ansible.git on the Admin server - put it in the /opt directory.
--
- name: for lab
  hosts: webservers
  become: true
  tasks:
    - name: install httpd
      yum:
        name: httpd
        state: present
    - name: start httpd
      service:
        name: httpd
        state: started
        enabled: yes
    - name: configure index.html
      copy:
        content: "This is a webpage."
        dest: /var/www/html/index.html
- name: for dbservers
  hosts: dbservers
  become: true
  tasks:
    - name: add a user
      user:
        name: dba
        state: present
    - name: copy a file
      copy:
        src: /root/DBAstuff.txt
        dest: /home/dba/DBAstuff.txt
        owner: dba
        group: dba
        mode: 0600
- name: for admins
  hosts: admins
  become: true
  tasks:
    - name: git set up
      yum:
        name: git
        state: present
    - name: clone git repo
      git:
        repo: 'https://github.com/ansible/ansible.git'
        dest: /opt



CLOUD_GURU_LAB2
Notice: Ansible is installed as the root user, so please work on all tasks after elevating to the root user.
Our backup team wants us to install their backup package everywhere in the environment, and make sure that there's an archive file for them to back up, even if it's empty.
We know that the backup team's repository server has a very low uptime. We need to write our playbook so that installing the linuxacademy_backup_package will not cause the entire playbook to fail. In addition, we have to check and make sure that /root/archive.tar exists, and then create it if it doesn't.